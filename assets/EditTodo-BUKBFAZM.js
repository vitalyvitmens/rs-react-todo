import{u as b,a as N,r as o,b as v,R as l,j as e,S as E,B,C as u,T as P,c as R}from"./index-6ne8GCxt.js";import{S as k}from"./SimpleMdeReact-C1JOHE1x.js";import{u as z}from"./useSelectTodo-32HiUT3Z.js";import{I as d}from"./Input-Bfa2feo9.js";import{B as I}from"./Button-D-wWcvB1.js";const U=()=>{const{isLoading:c,isError:m}=b(),{todoId:a}=N(),{selectTodo:p,todo:t,onTodoUpdate:x,isTodoUpdated:f,onTodoAdd:g}=z(),[r,j]=o.useState(t==null?void 0:t.title),[i,T]=o.useState(t==null?void 0:t.description),n=v();o.useEffect(()=>{p(Number(a))},[f]);const h=o.useCallback(s=>{T(s)},[]),C=o.useCallback(s=>{j(s.target.value)},[]);o.useEffect(()=>{if(a===void 0||isNaN(Number(a)))n(l.NotFound);else{const s=setTimeout(()=>{x({id:Number(a),title:r,description:i,date:new Date().toString()}),g()},2e3);return()=>{clearTimeout(s)}}},[i,r]);const S=()=>n(l.Home);return c||m?e.jsx(E,{}):e.jsxs(B,{p:10,children:[e.jsx(u,{children:e.jsx(P,{size:"md",fw:700,children:"Редактирование заметки"})}),e.jsx(d.Wrapper,{label:"Заголовок",children:e.jsx(d,{required:!0,id:"todo-title",name:"title",value:r,onChange:C})}),e.jsx(k,{style:{fontSize:"0.8rem"},id:"todo-textarea",value:i,onChange:h}),e.jsx(u,{children:e.jsx(I,{onClick:S,fullWidth:!0,color:R.green,radius:5,children:"To Home Page"})})]})};export{U as EditTodo};

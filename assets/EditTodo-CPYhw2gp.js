import{u as S,a as b,r as s,b as v,j as e,S as E,B as N,C as l,T as B,c as k}from"./index-B2_631JD.js";import{S as z}from"./SimpleMdeReact-BgsZz_N2.js";import{u as I}from"./useSelectTodo-ZGuzQSWX.js";import{I as d}from"./Input-D0KGYep8.js";import{B as P}from"./Button-BNC95Mi2.js";const U=()=>{const{isLoading:u,isError:c}=S(),{todoId:a}=b(),{selectTodo:m,todo:t,onTodoUpdate:p,isTodoUpdated:x,onTodoAdd:f}=I(),[r,g]=s.useState(t==null?void 0:t.title),[i,j]=s.useState(t==null?void 0:t.description),n=v();s.useEffect(()=>{m(Number(a))},[x]);const T=s.useCallback(o=>{j(o)},[]),h=s.useCallback(o=>{g(o.target.value)},[]);s.useEffect(()=>{if(a===void 0||isNaN(Number(a)))n("*");else{const o=setTimeout(()=>{p({id:Number(a),title:r,description:i,date:new Date().toString()}),f()},2e3);return()=>{clearTimeout(o)}}},[i,r]);const C=()=>n("/");return u||c?e.jsx(E,{}):e.jsxs(N,{p:10,children:[e.jsx(l,{children:e.jsx(B,{size:"md",fw:700,children:"Редактирование заметки"})}),e.jsx(d.Wrapper,{label:"Заголовок",children:e.jsx(d,{required:!0,id:"todo-title",name:"title",value:r,onChange:h})}),e.jsx(z,{style:{fontSize:"0.8rem"},id:"todo-textarea",value:i,onChange:T}),e.jsx(l,{children:e.jsx(P,{onClick:C,fullWidth:!0,color:k.green,radius:5,children:"To Home Page"})})]})};export{U as EditTodo};

import{u,b as c,r as f,t as w,j as r,S as g,B as x,c as s}from"./index-CgB4dBLJ.js";import{u as b,T as P,P as n,N as j,v as h,b as v,c as I}from"./use-form-D3sAKxAf.js";import{T as y}from"./Title-DAHjZv2Z.js";import{G as R}from"./Group-xoqlQNm7.js";import{B as S}from"./Button-Co-KF8UI.js";import"./Input-BSeOWcfH.js";const G=()=>{const{user:a,logIn:m,isLoading:d,isError:l}=u(),i=c(),e=b({initialValues:{username:"",password:"",confirmPassword:""},validate:{username:h,password:v,confirmPassword:(o,t)=>I(o,t)}});f.useEffect(()=>{(a==null?void 0:a.username)!==void 0&&i("/",{replace:!0})},[a,i]);const p=e.onSubmit(({username:o,password:t})=>w({username:o,password:t},()=>{m({username:o,password:t},()=>i("/",{replace:!0}))}));return d||l?r.jsx(g,{}):r.jsxs(x,{maw:340,mx:"auto",mt:100,children:[r.jsx(y,{ta:"center",c:s.blue,children:"Registration"}),r.jsxs("form",{onSubmit:p,children:[r.jsx(P,{id:"register-username",radius:5,c:s.primary,label:"Username",placeholder:"Username",...e.getInputProps("username")}),r.jsx(n,{id:"register-password",radius:5,c:s.primary,label:"Password",placeholder:"Password",...e.getInputProps("password")}),r.jsx(n,{id:"register-confirm-password",radius:5,c:s.primary,label:"Confirm password",placeholder:"Confirm password",...e.getInputProps("confirmPassword")}),r.jsxs(R,{wrap:"nowrap",mt:"md",children:[r.jsx(j,{href:"/login",label:"Уже зарегистрированы?",variant:"subtle",active:!0,c:s.red,fw:"bold"}),r.jsx(S,{type:"submit",w:"120px",bg:"#006400",radius:5,children:"Register"})]})]})]})};export{G as RegisterPage};
